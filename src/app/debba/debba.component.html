<div class="table-container">


    
  
    <!-- Master Toggle Button -->
    
  
    <table  mat-table [dataSource]="dataFolderList" multiTemplateDataRows>
  
      <ng-container matColumnDef="ClientFolderId">
        <th class="main-table-header" mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let element"> {{element.ClientFolderId}} </td>
      </ng-container>
  
  
      <ng-container matColumnDef="FolderName">
        <th class="main-table-header" mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.FolderName}} </td>
      </ng-container>
  
      <ng-container matColumnDef="FolderDescription">
        <th class="main-table-header" mat-header-cell *matHeaderCellDef> Description </th>
        <td mat-cell *matCellDef="let element"> {{element.FolderDescription}} </td>
      </ng-container>
  
  
     
  
      <ng-container matColumnDef="Action">
        <th class="main-table-header" mat-header-cell *matHeaderCellDef> &nbsp;&nbsp;&nbsp; Actions </th>
        <td  mat-cell *matCellDef="let element">
          <a mat-button href="javascript:void()" (click)="element.isExpanded = !element.isExpanded">
            <span *ngIf="!element.isExpanded"> View Documents </span>
            <span *ngIf="element.isExpanded"> Hide Documents </span>
          </a>
        </td>
      </ng-container>
  
  
      <!-- Template for details row -->
      <ng-container matColumnDef="expandedDetail">
        <td  mat-cell *matCellDef="let element" [attr.colspan]="displayedFolderColumnsList.length">
  
          <div class="row folder-element-detail" [ngClass]="element.isExpanded ? 'black-border' : 'black'"   [@detailExpand]="element.isExpanded ? 'expanded' : 'collapsed'">
            <div class="folder-element-detail-inner">
            <!-- <mat-list>
              <div > <h5>Documents of {{element.FolderName}} </h5> </div>
              <mat-list-item *ngFor="let document of element.Documents">
                <div mat-line>Document Name: {{document.DocumentName}}</div>
                <div mat-line>Document Status: {{document.Status}} </div>
                <div  mat-line> <input type="text" name="" id=""> </div>
              </mat-list-item>
            </mat-list> -->
            <table class="mat-table" >
                <tr class="mat-header-row">
                  <th class="mat-header-cell">Document Name</th>
                  <th class="mat-header-cell">Status</th>
                  <th class="mat-header-cell">Notes</th>
                </tr>
                <tr *ngFor="let document of element.Documents" class="mat-row">
                  <td class="mat-cell">
                   <a mat-button target="_blank" href="{{makeSearchString(document.DocumentName)}}">{{document.DocumentName}}</a> 
                  </td>

                  <td class="mat-cell">
                        <mat-form-field appearance="outline">
                                
                                <mat-select [ngClass]="getColor(document.Status)"  [(value)]="document.Status">
                                  <mat-option [ngClass]="status.color" *ngFor="let status of statuses" [value]="status.value">
                                    {{status.viewValue}}
                                  </mat-option>
                                </mat-select>
                       </mat-form-field>
                              
                  </td>
                  <td class="mat-cell"> 
                        <!-- <form class="documents-form"> -->
                                
                              
                                <mat-form-field class="documents-form-full-width" appearance="outline">
                                  <!-- <mat-label>Leave a comment</mat-label> -->
                                  <textarea [(ngModel)]="document.Notes" matInput placeholder="Ex: This is a very good document"></textarea>
                                </mat-form-field>
                        <!-- </form>     -->
                </td>
                </tr>
              </table>
            </div>
          </div>
  
        </td>
      </ng-container>
  
  
      <tr mat-header-row *matHeaderRowDef="displayedFolderColumnsList; sticky: true"></tr>
      <tr mat-row *matRowDef="let element; columns: displayedFolderColumnsList;" class="folder-element-row"
        [class.folder-expanded-row]="element.isExpanded"></tr>
  
      <!-- Extra row to show detail content column -->
      
      <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="folder-detail-row debug"></tr>
  
    </table>
    <!-- PS: iloveu  -->
  
  </div>

  <button (click)="mylog()" > Log array in console</button>